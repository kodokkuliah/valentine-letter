@import "tailwindcss";
@import url("https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Segoe+UI&display=swap");

body {
  background-color: #ffe4e6;
  font-family: "Segoe UI", sans-serif;
  overflow: hidden;
  touch-action: manipulation;
}

/* --- LOGIKA AMPLOP --- */

.envelope-wrapper {
  perspective: 1000px;
}

.envelope {
  position: relative;
  width: 300px;
  height: 200px;
  background-color: #ef4444;
  border-bottom-left-radius: 6px;
  border-bottom-right-radius: 6px;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
  z-index: 10;
}

/* --- BAGIAN BAWAH (SEGITIGA BAWAH) --- */
.envelope::before {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  border-left: 150px solid transparent;
  border-right: 150px solid transparent;
  border-bottom: 100px solid #dc2626; /* Merah agak gelap */
  bottom: 0;
  left: 0;
  z-index: 30; /* Layer paling depan saat tertutup */
  border-bottom-left-radius: 6px;
  border-bottom-right-radius: 6px;

  /* --- UPDATE: AGAR BISA MUTER KE BAWAH --- */
  transform-origin: bottom; /* Poros putar di bawah */
  transition:
    transform 0.6s 0.2s ease-in-out,
    z-index 0.2s 0.4s;
}

/* --- TUTUP ATAS (SEGITIGA ATAS) --- */
.envelope::after {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  border-left: 150px solid transparent;
  border-right: 150px solid transparent;
  border-top: 100px solid #f87171; /* Warna tutup */
  top: 0;
  left: 0;
  z-index: 40; /* Paling atas */

  /* --- UPDATE: ANIMASI PUTAR --- */
  transform-origin: top; /* Poros putar di atas */
  transition:
    transform 0.6s 0.2s ease-in-out,
    z-index 0.2s 0.4s;
}

/* --- KERTAS SURAT --- */
.letter {
  position: absolute;

  /* UKURAN AWAL */
  width: 260px;
  height: 180px;

  background-color: white;

  bottom: 0;
  left: 20px;

  padding: 20px;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);

  /* LAYER */
  /* Di tengah: Belakang tutup (30/40), Depan badan (10) */
  z-index: 20;

  /* TRANSISI */
  transition: height 1s 0.6s ease-out;

  display: flex;
  flex-direction: column;
  align-items: center;
  overflow: hidden;
}

/* --- ANIMASI SAAT TERBUKA --- */

/* 1. Tutup ATAS putar ke atas */
.envelope.open::after {
  transform: rotateX(180deg);
  z-index: 0; /* Pindah ke belakang */
}

/* 2. Tutup BAWAH putar ke bawah (BARU) */
.envelope.open::before {
  transform: rotateX(180deg); /* Putar ke bawah */
  z-index: 0; /* Pindah ke belakang */
  box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.2); /* Efek bayangan dikit */
}

/* 3. Kertas memanjang */
.envelope.open .letter {
  height: 320px;
}

.handwriting {
  font-family: "Dancing Script", cursive;
  line-height: 1.4;
}
